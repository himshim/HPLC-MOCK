<html>
   <head>
      <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
      <script src="https://cdn.plot.ly/plotly-1.58.4.min.js"></script>
      <style>
        .sliders {
          width: 300px;
          margin: 50px auto;
        }

        .sliders label {
          padding: 10px 0;
          display: inline-block;
        }

        .sliders input[type="range"] {
          -webkit-appearance: none;
          width: 200px;
          height: 10px;
          margin: 5px 0;
          background-color: #d3d3d3;
        }

        .sliders input[type="range"]::-webkit-slider-thumb {
          -webkit-appearance: none;
          width: 20px;
          height: 20px;
          background-color: #2196F3;
          cursor: pointer;
        }

        .sliders input[type="range"]:focus {
          outline: none;
        }

        .sliders input[type="range"]:focus::-webkit-slider-thumb {
          box-shadow: 0 0 0 2px #2196F3;
        }
      </style>
   </head>
   <body>
      <div id="myDiv"></div>
      <div class="sliders">
        <label for="retention-range">Retention Time: <span id="retention-value">2.25</span> min</label>
        <input type="range" min="0" max="9" step="0.1" value="2.25" class="slider" id="retention-range">

        <label for="tailing-range">Tailing Factor: <span id="tailing-value">1.1</span></label>
        <input type="range" min="0.5" max="2" step="0.1" value="1.1" class="slider" id="tailing-range">

        <label for="peak-range">Peak Height: <span id="peak-value">6</span> mAU</label>
        <input type="range" min="0" max="10" step="0.1" value="6" class="slider" id="peak-range">
      </div>
      <script>
         var trace1 = {
            x: [0, 2.25, 4.5, 6.75, 9],
            y: [0, 3, 6, 5.5, 1],
            type: 'scatter',
            mode: 'lines',
            name: 'HPLC Chromatogram'
         };

         var data = [trace1];

         var layout = {
            title: 'HPLC Chromatogram with Tailing Factor, Retention Time, and Peak Height',
            xaxis: {
               title: 'Retention Time (min)',
               range: [0, 9]
            },
            yaxis: {
               title: 'Signal (mAU)',
               range: [0, 7]
            },
            annotations: [
               {
                 x: 1.7,
                 y: 5.5,
                 xref: 'x',
                 yref: 'y',
                 text: 'Retention Time: 2.25 min',
                 showarrow: false,
                 font: {
                    family: 'Arial',
                    size: 12,
                    color: 'black'
                 },
                 visible: true
               },
               {
                  x: 5,
                  y: 1.5,
                  xref: 'x',
                  yref: 'y',
                  text: 'Tailing Factor: 1.1',
                  showarrow: false,
                  font: {
                     family: 'Arial',
                     size: 12,
                     color: 'black'
                  },
                  visible: true
               },
               {
                  x: 3.8,
                  y: 6,
                  xref: 'x',
                  yref: 'y',
                  text: 'Peak Height: 6 mAU',
                  showarrow: false,
                  font: {
                     family: 'Arial',
                     size: 12,
                     color: 'black'
                  },
                  visible: true
               }
            ]
         };

         Plotly.newPlot('myDiv', data, layout);

         var retention = document.getElementById('retention-range');
         var retentionValue = document.getElementById('retention-value');
         var tailing = document.getElementById('tailing-range');
         var tailingValue = document.getElementById('tailing-value');
         var peak = document.getElementById('peak-range');
         var peakValue = document.getElementById('peak-value');

         retention.oninput = function() {
           retentionValue.innerHTML = this.value;
           layout.annotations[0].text = 'Retention Time: ' + this.value + ' min';
           Plotly.redraw('myDiv');
         }

         tailing.oninput = function() {
           tailingValue.innerHTML = this.value;
           layout.annotations[1].text = 'Tailing Factor: ' + this.value;
           Plotly.redraw('myDiv');
         }

         peak.oninput = function() {
           peakValue.innerHTML = this.value;
           layout.annotations[2].text = 'Peak Height: ' + this.value + ' mAU';
           Plotly.redraw('myDiv');
         }
      </script>
   </body>
</html>
