<!DOCTYPE html>
<html>
<head>
	<title>HPLC Chromatogram Plotter</title>
	<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
	<div>
		<label for="retention-time-slider">Retention Time:</label>
		<input type="range" min="0" max="100" value="50" class="slider" id="retention-time-slider">

		<label for="peak-intensity-slider">Peak Intensity:</label>
		<input type="range" min="0" max="100" value="50" class="slider" id="peak-intensity-slider">

		<label for="tailing-factor-slider">Tailing Factor:</label>
		<input type="range" min="0" max="100" value="50" class="slider" id="tailing-factor-slider">
	</div>

	<div id="plot"></div>

	<script>
		var retention_time_slider = document.getElementById("retention-time-slider");
		var peak_intensity_slider = document.getElementById("peak-intensity-slider");
		var tailing_factor_slider = document.getElementById("tailing-factor-slider");

		var data = [
			{
				x: [0, retention_time_slider.value, retention_time_slider.value, retention_time_slider.value + tailing_factor_slider.value],
				y: [0, 0, peak_intensity_slider.value, 0],
				type: 'scatter',
				mode: 'lines+markers',
				fill: 'tozeroy',
				line: {
					color: 'blue'
				}
			}
		];

		var layout = {
			title: 'HPLC Chromatogram',
			xaxis: {
				title: 'Retention Time (min)'
			},
			yaxis: {
				title: 'Intensity'
			}
		};

		Plotly.newPlot('plot', data, layout);

		retention_time_slider.oninput = function() {
			data[0].x[1] = this.value;
			data[0].x[2] = this.value;
			data[0].x[3] = parseFloat(this.value) + parseFloat(tailing_factor_slider.value);

			Plotly.react('plot', data, layout);
		}

		peak_intensity_slider.oninput = function() {
			data[0].y[2] = this.value;

			Plotly.react('plot', data, layout);
		}

		tailing_factor_slider.oninput = function() {
			data[0].x[3] = parseFloat(retention_time_slider.value) + parseFloat(this.value);

			Plotly.react('plot', data, layout);
		}
	</script>
</body>
</html>
